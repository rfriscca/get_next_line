don't forget to free your line each time you call getnextline again like in main function
